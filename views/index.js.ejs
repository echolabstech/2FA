	<script type="text/javascript">
		const root = document.querySelector('#root');
		const template = document.querySelector('template');

		window.addEventListener('signUp-1fa', event => {
			console.log('user credentials accepted and qrcode imageURL received');
			const signupSecondFactor = template.content.querySelector('#signup-second-factor');
			signupSecondFactor.getElementsByTagName('img').qrcode.src = event.detail.imageUrl;

	    const signupFirstFactor = root.querySelector('#signup-first-factor');
			signupFirstFactor.replaceWith(signupSecondFactor);
		});

		window.addEventListener('cancel-signup-first-factor', event => {
			console.log('show signin-first-factor modal');
	    const signupFirstFactor = root.querySelector('#signup-first-factor');
			template.content.appendChild(signupFirstFactor);
			const signinFirstFactor = template.content.querySelector('#signin-first-factor');
			root.prepend(signinFirstFactor);
		});

		function showFirstFactorModal() {
			const signinFirstFactor = template.content.querySelector('#signin-first-factor');
			root.prepend(signinFirstFactor);
		}

		function hideSecondFactorModal() {
			const signupSecondFactor = root.querySelector('#signup-second-factor');
			template.content.appendChild(signupSecondFactor);
		}

		window.addEventListener('signUp-2fa', event => {
			console.log('signUp-2fa successful. notify user and show login modal');
			hideSecondFactorModal();
			showFirstFactorModal();
		});

		window.addEventListener('signIn', event => {
			console.log('Save sessionID to cookie and hide modal.');
			const signinFirstFactor = root.querySelector('#signin-first-factor');
			template.content.appendChild(signinFirstFactor);
		});

		window.addEventListener('cancel-signin-first-factor', event => {
			console.log('show signup-first-factor modal');
	    const signinFirstFactor = root.querySelector('#signin-first-factor');
	    template.content.appendChild(signinFirstFactor);
			const signupFirstFactor = template.content.querySelector('#signup-first-factor');
			root.prepend(signupFirstFactor);
		});
	</script>