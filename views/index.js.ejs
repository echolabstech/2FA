	<script type="text/javascript">
		const root = document.querySelector('#root');
		const template = document.querySelector('template');

		window.addEventListener('signUp-1fa', event => {
			console.log('user credentials accepted and qrcode imageURL received.');

			const signupSecondFactor = template.content.querySelector('#signup-second-factor');
			signupSecondFactor.querySelector('#qrcode').src = event.detail.imageUrl;
			hideModal(root.querySelector('#signup-first-factor'));
			showModal(signupSecondFactor);
		});

		window.addEventListener('cancel-signup-first-factor', event => {
			console.log('show signin-first-factor modal');
	    const signupFirstFactor = root.querySelector('#signup-first-factor');
			template.content.appendChild(signupFirstFactor);
			const signinFirstFactor = template.content.querySelector('#signin-first-factor');
			root.prepend(signinFirstFactor);
		});

		function showModal(modal) {
			root.prepend(modal);
		}

		function hideModal(modal) {
			template.content.appendChild(modal);
		}

		window.addEventListener('signUp-2fa', event => {
			console.log('signUp-2fa successful. notify user and show login modal');

			hideModal(root.querySelector('#signup-second-factor'));

			const signinFirstFactor = template.content.querySelector('#signin-first-factor');
			const status = signinFirstFactor.querySelector('#status');
			status.className = status.className.split(' ').concat(['status--success']).join(' ').trim();
			status.innerText = 'Registration success. Please login.';
			showModal(signinFirstFactor);
		});

		window.addEventListener('signIn-1fa', event => {
			console.log('signIn-1fa successful. notify user and show signIn-2fa modal');
			const signinFirstFactor = root.querySelector('#signin-first-factor');
			const signinSecondFactor = template.content.querySelector('#signin-second-factor');
			hideModal(signinFirstFactor);
			showModal(signinSecondFactor);
		});

		window.addEventListener('cancel-signin-first-factor', event => {
			console.log('show signup-first-factor modal');
	    const signinFirstFactor = root.querySelector('#signin-first-factor');
	    template.content.appendChild(signinFirstFactor);
			const signupFirstFactor = template.content.querySelector('#signup-first-factor');
			root.prepend(signupFirstFactor);
		});

		window.addEventListener('signIn-2fa', event => {
			console.log('signIn-2fa successful. hide signIn-2fa modal and save sessionID: ' + event.detail.sessionID);
			const signinSecondFactor = root.querySelector('#signin-second-factor');
			hideModal(signinSecondFactor);
		});
	</script>